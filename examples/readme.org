#+title: Preparations to Run the Literate Examples
#+author: Jan Gru
#+language: en

First, find the base directory:
#+name: basepath
#+begin_src elisp
(let ((basepath
        (file-name-as-directory
          (concat (file-name-as-directory
                    default-directory) ".."))))
  (expand-file-name basepath))
#+end_src

#+RESULTS: basepath
: /tmp/evidential-calculator/


Second, create Python virtual environment called =venv= by running:
#+begin_src shell :results output verbatim :var BP=basepath
cd $BP
python3.9 -m venv venv
source venv/bin/activate
pip3 install -r requirements.txt
# Eventually, install the evidence_set_calculation-package
# cd $BP && pip3 install .
#+end_src

#+RESULTS:
: Processing ./deps/pynusmv
: Collecting pyparsing
:   Using cached pyparsing-3.0.9-py3-none-any.whl (98 kB)
: Using legacy 'setup.py install' for pynusmv, since package 'wheel' is not installed.
: Installing collected packages: pyparsing, pynusmv
:     Running setup.py install for pynusmv: started
:     Running setup.py install for pynusmv: finished with status 'done'
: Successfully installed pynusmv-1.0rc8 pyparsing-3.0.9

Third, activate the virtual environment =venv=, so that Python
interpreter is taken up from this virtual environment.

Please not, that this requires the Emacs package [[https://github.com/jorgenschaefer/pyvenv][pyvenv.el]]:
#+begin_src elisp :results silent :var path=basepath
(pyvenv-activate (concat path "/venv"))
#+end_src
